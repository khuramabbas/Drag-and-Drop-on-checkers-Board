import java.awt.Color;
import java.awt.Component;
import java.awt.Container;
import java.awt.Panel;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

import javax.swing.BorderFactory;
import javax.swing.JComponent;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.TransferHandler;
import javax.swing.border.CompoundBorder;


public class MouseEventHandler extends MouseAdapter {
	int x =0,y=0;
        
        public static JPanel ClickPanel;
        public static JPanel DropPanel;
        public static JLabel Movedlabel;
        
	public void mousePressed(MouseEvent e) {
            
            
            ClickPanel =(JPanel) Mainframe.MainPanel.getComponentAt(e.getPoint());
	     Component[] comp = ClickPanel.getComponents();
             
             if(comp[0] instanceof JLabel)
             {
                Movedlabel = (JLabel) comp[0];
             }
            
             
             
	}
        public void mouseReleased (MouseEvent e){
                        DropPanel =(JPanel) Mainframe.MainPanel.getComponentAt(e.getPoint());

                        ClickPanel.remove(Movedlabel);
                        ClickPanel.repaint();
                        DropPanel.add(Movedlabel);
                        DropPanel.repaint();
                        Movedlabel = null;
                        
        }


public void mouseClicked(MouseEvent e) {
		System.out.println(String.format("Mouse clicked via MouseAdapter / X,Y : %s,%s ", e.getX(), e.getY()));
	
		JComponent c = (JComponent) e.getSource();
		JPanel panel = (JPanel)c.getParent();
		
		Container pane = (Container)panel.getParent();
	}
	
	public void mouseDragged (MouseEvent e){
		
		System.out.println("x = " + e.getX() + ", y = " + e.getY()+ "\n");
		Component c = e.getComponent();
		
		c.setLocation( x= c.getX()+e.getX(), y=c.getY()+e.getY() );
	
	}

}

